<%- include('header') %>

<h2 class="mb-3">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>

<div class="alert alert-warning">
    <strong>üî• ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏£‡∏á</strong> (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô)
</div>

<table class="table table-bordered bg-white table-hover">
    <thead class="table-primary">
        <tr>
            <th>ID</th>
            <th>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ç‡πà‡∏≤‡∏ß</th>
            <th class="text-center">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠</th>
            <th class="text-center">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
            <th class="text-center bg-warning bg-opacity-25">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô (Heat)</th>
            <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
        </tr>
    </thead>
    <tbody>
        <% rumors.forEach(function(r) { 
            let statusText = r.status;
            let badgeClass = 'secondary';
            
            if (r.status == 'panic') { 
                statusText = 'Panic'; 
                badgeClass = 'danger'; 
            } else if (r.status == '‡∏õ‡∏Å‡∏ï‡∏¥') { 
                statusText = '‡∏õ‡∏Å‡∏ï‡∏¥'; 
                badgeClass = 'info text-white';
            } else if (r.status == 'verified_true') { 
                statusText = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á'; 
                badgeClass = 'success'; 
            } else if (r.status == 'verified_false') { 
                statusText = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ó‡πá‡∏à'; 
                badgeClass = 'success'; 
            }

            let heatClass = r.report_count > 0 ? "text-danger fw-bold" : "text-muted";
        %>
        <tr>
            <td><%= r.rumor_id %></td>
            <td><%= r.title %></td>
            <td class="text-center"><%= r.credibility_score %></td>
            <td class="text-center">
                <span class="badge bg-<%= badgeClass %>"><%= statusText %></span>
            </td>
            <td class="text-center bg-warning bg-opacity-10">
                <span class="<%= heatClass %>" style="font-size: 1.1em;">
                    <%= r.report_count %>
                </span> ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
            </td>
            <td><a href="/detail/<%= r.rumor_id %>" class="btn btn-sm btn-primary">‡∏î‡∏π / ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</a></td>
        </tr>
        <% }); %>
    </tbody>
</table>

<%- include('footer') %>